<!--
 The Official Pocket Browser Code,
 Created and Written by the Pocket, Inc.
 Â© 2020 Pocket Inc.
 github.com/PocketInc/Pocket-Browser
-->
<script>
    //TODO: Organize the bot code.
    // simple browser version variable.
    var browserVersion = 1.5;
</script>

<html>
    <head>
        <!-- custom style.cs file -->
        <link rel="stylesheet" href="style/style.css">

         <link rel="stylesheet" href="node_modules/electron-tabs/electron-tabs.css">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <!-- jQuery first, then Popper.js, then Bootstrap JS -->
 <script>
         //adding jquery in node app.
         window.jQuery = window.$ = require('./external/jquery.js');
 </script>
 <script src="external/popper.js"></script>
 <script src="external/bootstrap.js"></script>
 <link rel="stylesheet" href="external/bootstrap.css">
<link rel="stylesheet" href="node_modules/autocompleter/autocomplete.css">
        <link rel="stylesheet" href="node_modules/dist/dragula.css">

        <title>Pocket Browser</title>
    </head>
    <body>
        <!-- navigation bar -->
        <nav id="nav" class="nav bg-light">
            <button onclick="goBack()" class="btn btn-light noradius"><img src="./node_modules/bootstrap-icons/icons/arrow-left-short.svg" alt="" width="25" height="25" title="Back"></button>
            <button onclick="goForward()" class="btn btn-light noradius"><img src="./node_modules/bootstrap-icons/icons/arrow-right-short.svg" alt="" width="25" height="25" title="Forward"></button>
            <button onclick="goHome()" class="btn btn-light noradius"><img src="./node_modules/bootstrap-icons/icons/house.svg" alt="" width="25" height="25" title="Home"></button>
            <button onclick="reloadPage()" class="btn btn-light noradius" id="reload"><img src="./node_modules/bootstrap-icons/icons/bootstrap-reboot.svg" alt="" width="25" height="25" title="Reload"></button>

            &nbsp;<div class="btn-group">
            <button class="btn icon" id="shieldButton" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <img id="shield" src="./node_modules/bootstrap-icons/icons/shield-check.svg" alt="" width="25" height="25" title="Secure">
            </button>
            <div class="dropdown-menu">
                <p class="custom-dropdown-item" style="color: #006400" id="secureText">Secure connection via <b>HTTPS</b></p>
                <div class="dropdown-divider"></div>
                <p class="custom-dropdown-item"><b>Permissions:</b></p>
                <button type="button" class="dropdown-item" onclick="changeSitePerms(0)">Notifications</button>
                <button type="button" class="dropdown-item" onclick="changeSitePerms(1)">Popups</button>
                <button type="button" class="dropdown-item" onclick="changeSitePerms(2)">JavaScript</button>
                <div class="dropdown-divider"></div>
                <p class="custom-dropdown-item"><b>Cookies:</b></p>
                <div id="cookies">

                </div>
            </div>
        </div>


            <input id="address" class="url" placeholder="Enter web address">
            <button type="submit" id="go" onclick="loadURL()" class="btn btn-light icon"><img src="./node_modules/bootstrap-icons/icons/search.svg" alt="" width="15" height="15" title="Go"></button>
            <button hidden="hidden" class="icon" id="wifi"><img src="node_modules/bootstrap-icons/icons/wifi-off.svg" width="25" height="25" title="No Internet"></button>

            &nbsp;<div class="btn-group" style="position:absolute;right: 2">
            <button type="button" class="btn btn-light noradius" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <img src="./node_modules/bootstrap-icons/icons/three-dots-vertical.svg" alt="" width="25" height="25" title="Menu">

            </button>
            <div class="dropdown-menu dropdown-menu-right">
                <button class="dropdown-item" type="button" onclick="addTab()">New Tab<small>     -     Ctrl+T</small></button>
                <button class="dropdown-item" type="button" onclick="addWindow()">New Window<small>     -     Ctrl+N</small></button>
                <button class="dropdown-item" type="button" onclick="loadDev()">Developer Tools</button>
                <button class="dropdown-item" type="button" onclick="openSystemPage('history')">History<small>     -     Ctrl+H</small></button>
                <button class="dropdown-item" type="button">Downloads<small>     -     Ctrl+J</small></button>
                <button class="dropdown-item" type="button">Extentions</button>
                <div class="custom-dropdown-item"><button class="btn custom-btn-light" type="button" onclick="findInPage()">Find</button> <b> | </b> <button class="btn custom-btn-light" onclick="zoom('add')"><img src="node_modules/bootstrap-icons/icons/zoom-in.svg" width="15" height="15" title="Zoom In"> </button> <button class="btn custom-btn-light" onclick="zoom('minus')"><img src="node_modules/bootstrap-icons/icons/zoom-out.svg" width="15" height="15" title="Zoom out"> </button> </div>
                <button class="dropdown-item" type="button" onclick="openSystemPage('settings')">Settings<small>     -     Ctrl+Alt+S</small></button>
                <button class="dropdown-item" type="button" onclick="openSystemPage('about')">About</button>
                <button class="dropdown-item" type="button" onclick="electron.app.exit()">Exit</button>
            </div>
        </div>
            &nbsp;




        </nav>
        <div class="etabs-tabgroup bg-light" id="tabgroup">
            <div class="etabs-tabs"></div>
            <div class="etabs-buttons"></div>
          </div>
          <div class="etabs-views"></div>
        <script>
            //create tab group and add a tab.
            const TabGroup = require("electron-tabs");
            const dragula = require("dragula");

            let tabGroup = new TabGroup({
                ready: function (tabGroup) {
                    dragula([tabGroup.tabContainer], {
                        direction: "horizontal"
                    });
                }
            });
    //TAB
            let mainTab = tabGroup.addTab({
                title: "New Tab",
                active: true
            });

</script>

<!-- add external scripts -->
<script src="src/log.js"></script>
<script src="src/browser.js"></script>
<script src="src/system.js"></script>
<script src="src/tabs.js"></script>
<script src="src/events.js"></script>

<script>
    //setup the page
    //load homepage
goHome();

// add events to tab.
    addEventsToTab(mainTab)
</script>



        <div id="toasts">
        <div id="toast" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-delay="10000">
            <div class="toast-header">
                <img src="icon.ico" class="rounded mr-2" alt="Pb" width="25" height="25">
                <strong class="mr-auto" id="notifyTitle"></strong>
                <small></small>
                <button type="button" class="ml-2 mb-1 close" data-dismiss="toast" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="toast-body bg-light" id="notifyBody">

            </div>
        </div>
        </div>
        <div class="alert alert-light" role="alert" id="link" hidden="hidden">

              </div>
        <script src="src/beta.js"></script>
    </body>

</html>
